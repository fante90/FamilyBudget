(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{SeuA:function(l,n,e){"use strict";e.r(n);var u=e("8Y7J"),o=e("mrSG"),i=e("Witw"),t=e("2dAZ"),r=e("jdXt"),s=e("EYbX"),c=e("bBk2");class a{constructor(l,n){this.uiService=l,this.appDBService=n,this.categories=[]}newCategory(){return o.a(this,void 0,void 0,(function*(){(yield this.uiService.presentModal(t.a,{})).onDidDismiss().then(()=>{this.refreshCategories()})}))}editCategory(l){return o.a(this,void 0,void 0,(function*(){(yield this.uiService.presentModal(t.a,{ID:l._id})).onDidDismiss().then(()=>{this.refreshCategories()})}))}deleteCategory(l){return o.a(this,void 0,void 0,(function*(){this.uiService.presentAlert({header:"Elimina categoria",text:"Sei sicuro di voler eliminare la categoria "+l.description+"?",buttons:[{text:"Annulla",role:"cancel",cssClass:"medium"},{text:"Conferma",handler:()=>{this.delete(l)}}]})}))}delete(l){return o.a(this,void 0,void 0,(function*(){const n=new r.a(this.appDBService);let e=yield n.findEntry(l._id);e&&(e=yield n.delete()),!1===e?this.uiService.presentAlert({header:"ERRORE",message:n.getErrors().join("\n\r"),buttons:[{text:"Chiudi",role:"cancel",cssClass:"primary"}]}):(this.uiService.presentToast({message:"Categoria eliminata correttamente",duration:2e3,color:"success"}),this.refreshCategories())}))}getTypeDescription(l){return s.a.getMovimentType(l).description}refreshCategories(l=null){r.a.getEntries(this.appDBService).then(n=>{this.categories=n,l&&l.target.complete()})}ionViewDidEnter(){this.refreshCategories()}}class b{}var p=e("pMnS"),d=e("MKJQ"),h=e("sZkV"),m=e("SVse"),f=u.nb({encapsulation:0,styles:[[""]],data:{}});function g(l){return u.Jb(0,[(l()(),u.pb(0,0,null,null,1,"ion-icon",[],null,null,null,d.W,d.m)),u.ob(1,49152,null,0,h.B,[u.h,u.k,u.x],{color:[0,"color"],name:[1,"name"]},null)],(function(l,n){l(n,1,0,u.tb(1,"",n.parent.context.$implicit.color,""),u.tb(1,"",n.parent.context.$implicit.icon,""))}),null)}function k(l){return u.Jb(0,[(l()(),u.pb(0,0,null,null,22,"ion-item-sliding",[["mode","ios"]],null,null,null,d.ab,d.r)),u.ob(1,49152,null,0,h.L,[u.h,u.k,u.x],null,null),(l()(),u.pb(2,0,null,0,10,"ion-item",[],null,null,null,d.bb,d.o)),u.ob(3,49152,null,0,h.G,[u.h,u.k,u.x],null,null),(l()(),u.pb(4,0,null,0,2,"div",[["slot","start"]],[[8,"className",0]],null,null,null,null)),(l()(),u.eb(16777216,null,null,1,null,g)),u.ob(6,16384,null,0,m.k,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.pb(7,0,null,0,5,"ion-label",[],null,null,null,d.cb,d.s)),u.ob(8,49152,null,0,h.M,[u.h,u.k,u.x],null,null),(l()(),u.pb(9,0,null,0,1,"h3",[],null,null,null,null,null)),(l()(),u.Hb(10,null,["",""])),(l()(),u.pb(11,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),u.Hb(12,null,[" "," "])),(l()(),u.pb(13,0,null,0,9,"ion-item-options",[["side","end"]],null,null,null,d.Z,d.q)),u.ob(14,49152,null,0,h.K,[u.h,u.k,u.x],{side:[0,"side"]},null),(l()(),u.pb(15,0,null,0,3,"ion-item-option",[["color","secondary"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.editCategory(l.context.$implicit)&&u),u}),d.Y,d.p)),u.ob(16,49152,null,0,h.J,[u.h,u.k,u.x],{color:[0,"color"]},null),(l()(),u.pb(17,0,null,0,1,"ion-icon",[["name","pencil"]],null,null,null,d.W,d.m)),u.ob(18,49152,null,0,h.B,[u.h,u.k,u.x],{name:[0,"name"]},null),(l()(),u.pb(19,0,null,0,3,"ion-item-option",[["color","danger"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteCategory(l.context.$implicit)&&u),u}),d.Y,d.p)),u.ob(20,49152,null,0,h.J,[u.h,u.k,u.x],{color:[0,"color"]},null),(l()(),u.pb(21,0,null,0,1,"ion-icon",[["name","trash-outline"]],null,null,null,d.W,d.m)),u.ob(22,49152,null,0,h.B,[u.h,u.k,u.x],{name:[0,"name"]},null)],(function(l,n){l(n,6,0,n.context.$implicit.icon),l(n,14,0,"end"),l(n,16,0,"secondary"),l(n,18,0,"pencil"),l(n,20,0,"danger"),l(n,22,0,"trash-outline")}),(function(l,n){var e=n.component;l(n,4,0,u.tb(1,"round-icon ",n.context.$implicit.color,"-borders")),l(n,10,0,n.context.$implicit.description),l(n,12,0,e.getTypeDescription(n.context.$implicit.type))}))}function x(l){return u.Jb(0,[(l()(),u.pb(0,0,null,null,5,"ion-item",[["lines","none"]],null,null,null,d.bb,d.o)),u.ob(1,49152,null,0,h.G,[u.h,u.k,u.x],{lines:[0,"lines"]},null),(l()(),u.pb(2,0,null,0,3,"ion-label",[],null,null,null,d.cb,d.s)),u.ob(3,49152,null,0,h.M,[u.h,u.k,u.x],null,null),(l()(),u.pb(4,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),u.Hb(-1,null,["Nessuna categoria inserita"]))],(function(l,n){l(n,1,0,"none")}),null)}function v(l){return u.Jb(0,[(l()(),u.pb(0,0,null,null,7,"ion-header",[],null,null,null,d.V,d.l)),u.ob(1,49152,null,0,h.A,[u.h,u.k,u.x],null,null),(l()(),u.pb(2,0,null,0,5,"ion-toolbar",[["mode","ios"]],null,null,null,d.tb,d.J)),u.ob(3,49152,null,0,h.yb,[u.h,u.k,u.x],{mode:[0,"mode"]},null),(l()(),u.pb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,d.M,d.c)),u.ob(5,49152,null,0,h.k,[u.h,u.k,u.x],null,null),(l()(),u.pb(6,0,null,0,1,"ion-menu-button",[["autoHide","false"],["mode","ios"]],null,null,null,d.fb,d.w)),u.ob(7,49152,null,0,h.Q,[u.h,u.k,u.x],{autoHide:[0,"autoHide"]},null),(l()(),u.pb(8,0,null,null,20,"ion-content",[],null,null,null,d.R,d.h)),u.ob(9,49152,null,0,h.t,[u.h,u.k,u.x],null,null),(l()(),u.pb(10,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],(function(l,n,e){var u=!0;return"ionRefresh"===n&&(u=!1!==l.component.refreshCategories(e)&&u),u}),d.jb,d.y)),u.ob(11,49152,null,0,h.Z,[u.h,u.k,u.x],null,null),(l()(),u.pb(12,0,null,0,1,"ion-refresher-content",[],null,null,null,d.ib,d.z)),u.ob(13,49152,null,0,h.ab,[u.h,u.k,u.x],null,null),(l()(),u.pb(14,0,null,0,8,"ion-list",[["lines","full"],["mode","ios"]],null,null,null,d.eb,d.t)),u.ob(15,49152,null,0,h.N,[u.h,u.k,u.x],{lines:[0,"lines"],mode:[1,"mode"]},null),(l()(),u.pb(16,0,null,0,2,"ion-list-header",[],null,null,null,d.db,d.u)),u.ob(17,49152,null,0,h.O,[u.h,u.k,u.x],null,null),(l()(),u.Hb(-1,0,[" Categorie "])),(l()(),u.eb(16777216,null,0,1,null,k)),u.ob(20,278528,null,0,m.j,[u.M,u.J,u.q],{ngForOf:[0,"ngForOf"]},null),(l()(),u.eb(16777216,null,0,1,null,x)),u.ob(22,16384,null,0,m.k,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.pb(23,0,null,0,5,"ion-fab",[["horizontal","end"],["slot","fixed"],["vertical","bottom"]],null,null,null,d.U,d.j)),u.ob(24,49152,null,0,h.v,[u.h,u.k,u.x],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(l()(),u.pb(25,0,null,0,3,"ion-fab-button",[["color","tertiary"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.newCategory()&&u),u}),d.T,d.k)),u.ob(26,49152,null,0,h.w,[u.h,u.k,u.x],{color:[0,"color"]},null),(l()(),u.pb(27,0,null,0,1,"ion-icon",[["name","add"]],null,null,null,d.W,d.m)),u.ob(28,49152,null,0,h.B,[u.h,u.k,u.x],{name:[0,"name"]},null)],(function(l,n){var e=n.component;l(n,3,0,"ios"),l(n,7,0,"false"),l(n,15,0,"full","ios"),l(n,20,0,e.categories),l(n,22,0,0==e.categories.length),l(n,24,0,"end","bottom"),l(n,26,0,"tertiary"),l(n,28,0,"add")}),null)}function y(l){return u.Jb(0,[(l()(),u.pb(0,0,null,null,1,"app-list-categories",[],null,null,null,v,f)),u.ob(1,49152,null,0,a,[i.a,c.a],null,null)],null,null)}var C=u.lb("app-list-categories",a,y,{},{},[]),z=e("s7LF"),J=e("iInd");e.d(n,"ListCategoriesPageModuleNgFactory",(function(){return S}));var S=u.mb(b,[],(function(l){return u.yb([u.zb(512,u.j,u.X,[[8,[p.a,C]],[3,u.j],u.v]),u.zb(4608,m.m,m.l,[u.s,[2,m.s]]),u.zb(4608,z.l,z.l,[]),u.zb(4608,h.c,h.c,[u.x,u.g]),u.zb(4608,h.Cb,h.Cb,[h.c,u.j,u.p]),u.zb(4608,h.Hb,h.Hb,[h.c,u.j,u.p]),u.zb(1073742336,m.b,m.b,[]),u.zb(1073742336,z.k,z.k,[]),u.zb(1073742336,z.b,z.b,[]),u.zb(1073742336,h.Ab,h.Ab,[]),u.zb(1073742336,J.o,J.o,[[2,J.t],[2,J.m]]),u.zb(1073742336,b,b,[]),u.zb(1024,J.k,(function(){return[[{path:"",component:a}]]}),[])])}))}}]);